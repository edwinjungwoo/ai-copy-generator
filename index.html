<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 카피 생성기 - 가치Write</title>
    
    <!-- 최신 폰트 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Pretendard:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- 네비게이션 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <div class="brand-icon">GW</div>
                <span class="brand-text">가치Write</span>
            </div>
            
        </div>
    </nav>

    <!-- 히어로 섹션 -->
    <section class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <h1 class="hero-title">
                    AI로 만드는<br>
                    <span class="highlight">완벽한 광고 카피</span>
                </h1>
                <p class="hero-subtitle">
                    랜딩 페이지를 자동 분할해 텍스트 추출 후

                    각 플랫폼에 최적화된 광고 카피를 생성합니다.
                </p>
                
                <!-- 플랫폼 선택 -->
                <div class="platform-selection">
                    <div class="selection-header">
                        <h3 class="selection-title">타겟 플랫폼 선택</h3>
                        <span class="selection-optional">선택사항</span>
                    </div>
                    
                    <div class="platform-chips">
                        <label class="platform-chip naver">
                            <input type="checkbox" value="naver" checked>
                            <div class="chip-content">
                                <div class="chip-icon">N</div>
                                <span class="chip-name">네이버</span>
                            </div>
                        </label>
                        
                        <label class="platform-chip meta">
                            <input type="checkbox" value="meta" checked>
                            <div class="chip-content">
                                <div class="chip-icon">M</div>
                                <span class="chip-name">메타</span>
                            </div>
                        </label>
                        
                        <label class="platform-chip google">
                            <input type="checkbox" value="google" checked>
                            <div class="chip-content">
                                <div class="chip-icon">G</div>
                                <span class="chip-name">구글</span>
                            </div>
                        </label>
                        
                        <label class="platform-chip kakao">
                            <input type="checkbox" value="kakao" checked>
                            <div class="chip-content">
                                <div class="chip-icon">K</div>
                                <span class="chip-name">카카오</span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
            
            <!-- 업로드 영역 -->
            <div class="upload-section">
                <div class="upload-card">
                    <div class="upload-header">
                        <h3>랜딩 페이지 업로드</h3>
                    </div>
                    
                    <div class="upload-area" id="uploadArea">
                        <div class="upload-content">
                            <div class="upload-icon">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                    <polyline points="7,10 12,15 17,10"/>
                                    <line x1="12" y1="15" x2="12" y2="3"/>
                                </svg>
                            </div>
                            <div class="upload-text">
                                <strong>이미지를 드래그하거나 클릭하여 업로드</strong>
                                <span>JPG, PNG, WebP 지원 (최대 10MB)</span>
                                <span class="upload-feature">✨ 긴 이미지 자동 분할!</span>
                            </div>
                        </div>
                        <input type="file" id="imageInput" accept="image/*" style="display: none;">
                    </div>
                    
                    <!-- 이미지 미리보기 -->
                    <div class="image-preview" id="imagePreview" style="display: none;">
                        <img id="previewImage" alt="업로드된 이미지">
                        <div class="image-actions">
                            <span id="imageFileName" class="file-name"></span>
                            <button class="remove-btn" id="removeImage">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18"/>
                                    <line x1="6" y1="6" x2="18" y2="18"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Tesseract OCR 분석 진행률 -->
                    <div class="ocr-progress" id="ocrProgress" style="display: none;">
                        <div class="progress-info">
                            <div class="progress-label">
                                <span class="progress-icon">📝</span>
                                <span class="progress-text">Tesseract OCR 분석 중...</span>
                            </div>
                            <span class="progress-percent" id="progressPercent">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-status" id="progressStatus">초기화 중...</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 이미지 분할 미리보기 -->
    <section class="segment-preview" id="segmentPreview" style="display: none;">
        <div class="segment-container-wrapper">
            <div class="segment-header">
                <h3>이미지 분할 결과</h3>
                <p>이미지가 자동으로 분할되어 각 구간별로 OCR 처리됩니다</p>
            </div>
            <div class="segment-container">
                <!-- 분할된 이미지들이 여기에 표시됩니다 -->
            </div>
        </div>
    </section>

    <!-- 텍스트 편집 섹션 -->
    <section class="text-editor" id="textEditorSection" style="display: none;">
        <div class="editor-container">
            <div class="editor-card">
                <div class="editor-header">
                    <h3>추출된 텍스트</h3>
                    <p>Tesseract OCR로 추출한 텍스트를 확인하고 필요시 수정하세요</p>
                </div>
                <textarea id="extractedText" class="text-area" placeholder="Tesseract OCR로 추출한 텍스트가 여기에 표시됩니다..."></textarea>
            </div>
            
            <div class="requirements-card">
                <div class="requirements-header">
                    <h3>요구사항</h3>
                    <p>카피 생성 시 최우선으로 반영할 사항을 입력하세요 (선택사항)</p>
                </div>
                <textarea id="requirementsInput" class="requirements-area" placeholder="예: 제품명 명시, 브랜드 강조 등..."></textarea>
            </div>
            
            <div class="requirements-card">
                <div class="requirements-header">
                    <h3>OpenAI API 키</h3>
                    <p>본인의 OpenAI API 키를 입력하세요 (로컬에만 저장되며 외부로 전송되지 않습니다)</p>
                </div>
                <input type="password" id="apiKeyInput" class="requirements-area" placeholder="sk-proj-..." style="font-family: monospace;">
            </div>
            
            <button class="generate-button" id="generateBtn" disabled>
                <span class="btn-icon">AI</span>
                <span>카피 생성하기</span>
                <svg class="btn-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="5" y1="12" x2="19" y2="12"/>
                    <polyline points="12,5 19,12 12,19"/>
                </svg>
            </button>
        </div>
    </section>

    <!-- 로딩 섹션 -->
    <section class="loading-section" id="loadingSection" style="display: none;">
        <div class="loading-container">
            <div class="loading-animation">
                <div class="loading-spinner"></div>
                <div class="loading-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <h3 class="loading-title">AI가 카피를 생성하고 있습니다</h3>
            <p class="loading-message" id="loadingMessage">분석 보고서를 생성하는 중...</p>
        </div>
    </section>

    <!-- 에러 섹션 -->
    <section class="error-section" id="errorSection" style="display: none;">
        <div class="error-container">
            <div class="error-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="15" y1="9" x2="9" y2="15"/>
                    <line x1="9" y1="9" x2="15" y2="15"/>
                </svg>
            </div>
            <h3>오류가 발생했습니다</h3>
            <p id="errorMessage"></p>
            <button class="retry-button" onclick="location.reload()">다시 시도</button>
        </div>
    </section>

    <!-- 결과 섹션 (좌우 병치 레이아웃) -->
    <section class="results-section" id="resultsSection" style="display: none;">
        <div class="results-container">
            <!-- 왼쪽: 분석 보고서 -->
            <div class="analysis-panel">
                <div class="panel-header">
                    <h2>인사이트 분석</h2>
                    <p>실무 활용 가능한 마케팅 전략 분석</p>
                </div>
                <div class="analysis-grid" id="analysisContent">
                    <!-- 분석 결과가 여기에 표시됩니다 -->
                </div>
            </div>

            <!-- 오른쪽: AI 카피 추천 -->
            <div class="copy-panel">
                <div class="panel-header">
                    <h2>퍼포먼스 최적화 카피</h2>
                    <p>랜딩 페이지 기반 AI 생성 카피</p>
                </div>
                
                <!-- 테이블 형식 카피 결과 -->
                <div class="copy-table-container">
                    <table class="copy-table">
                        <thead>
                            <tr>
                                <th>플랫폼</th>
                                <th>Title & Description</th>
                            </tr>
                        </thead>
                        <tbody id="resultsTableBody">
                            <!-- 결과가 여기에 표시됩니다 -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- 푸터 -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="brand-icon">AI</div>
                    <span>카피 생성기</span>
                </div>
                <p class="footer-text">Powered by Tesseract.js OCR & OpenAI gpt-4.1-nano</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>